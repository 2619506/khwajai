  <footer>
    <p>Â© 2025 Khwajai. All rights reserved.</p>
  </footer>

  <script>
    // Tab switching
    function showTab(tabId) {
      document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
      document.getElementById(tabId).classList.add("active");
    }

    // AI Chat
    async function sendMessage() {
      const input = document.getElementById("userMessage");
      const message = input.value.trim();
      if (!message) return;

      const chatBox = document.getElementById("chat-box");
      // Show user message
      chatBox.innerHTML += `<div class="msg user"><strong>You:</strong> ${message}</div>`;
      input.value = "";

      // Scroll down
      chatBox.scrollTop = chatBox.scrollHeight;

      try {
        const res = await fetch("/.netlify/functions/chatgpt", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message })
        });

        const data = await res.json();
        if (data.reply) {
          chatBox.innerHTML += `<div class="msg ai"><strong>AI:</strong> ${data.reply}</div>`;
        } else {
          chatBox.innerHTML += `<div class="msg ai"><strong>AI:</strong> Error: ${data.error || "Unknown error"}</div>`;
        }
      } catch (err) {
        chatBox.innerHTML += `<div class="msg ai"><strong>AI:</strong> Network error</div>`;
      }

      // Scroll down after AI reply
      chatBox.scrollTop = chatBox.scrollHeight;
    }
  </script>
</body>
</html>
